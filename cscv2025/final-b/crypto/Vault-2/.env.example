# CTF Backend Configuration
# Copy this file to .env and replace all REPLACE_ME values with actual secrets

# Django Core Settings
CTF_DEBUG=false
CTF_ALLOWED_HOSTS=*
CTF_SECRET_KEY=CTF_SECRET_KEY=REPLACE_ME

# Database Configuration (PostgreSQL)
POSTGRES_PASSWORD=REPLACE_ME_with_secure_database_password
CTF_DATABASE_URL=postgresql://ctf_user:REPLACE_ME_with_secure_database_password@postgres:5432/ctf_backend

# Redis Configuration
CTF_REDIS_URL=redis://redis:6379/0

# Cryptographic Secrets (CRITICAL - These must be unique and secure)
# The MANAGER_SECRET_KEY is reused for:
# 1. HS256 JWT signing (authentication tokens)
# 2. secp192r1 private scalar derivation (PDF signing)
CTF_MANAGER_SECRET_KEY=REPLACE_ME_with_64_char_hex_secret_for_manager_jwt_and_ecdsa
CTF_TENANT_SALT=REPLACE_ME_with_32_char_random_salt_for_tenant_derivation

# Optional: Override vault server key (if not set, uses MANAGER_SECRET_KEY)
# CTF_VAULT_SERVER_SECRET_KEY=REPLACE_ME_with_separate_vault_server_key

# Vault Session Configuration
CTF_VAULT_SESSION_LIFETIME=3600

# Seeded Account Credentials
CTF_SEED_MANAGER_PASSWORD=REPLACE_ME_with_manager_account_password
CTF_SEED_BOB_SECRET=CSCV2025{REPLACE_ME_with_actual_flag_value}
CTF_SEED_MANAGER_ESCROW_SECRET=CSCV2025{REPLACE_ME_with_stage1_flag_value}

# Production Deployment Notes:
# 1. Generate SECRET_KEY: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# 2. Generate MANAGER_SECRET_KEY: python -c "import secrets; print(secrets.token_hex(32))"
# 3. Generate TENANT_SALT: python -c "import secrets; print(secrets.token_hex(16))"
# 4. Use strong POSTGRES_PASSWORD (minimum 16 chars, mix of alphanumeric + symbols)
# 5. Update ALLOWED_HOSTS with your actual domain (e.g., "ctf.example.com,localhost")
# 6. Set DEBUG=false in production
# 7. Replace all flag values with actual CTF flags

# Rate Limiting (CTF-friendly with generous limits)
CTF_RATE_LIMIT_ENABLED=true
